### MANAGED BY usegalaxy-eu.galaxy-procstat ANSIBLE ROLE ###

{% for gunicorn in range(galaxy_systemd_gunicorns) %}
[[inputs.procstat]]
	cgroup = "systemd/system.slice/system-galaxy\\x2dgunicorn.slice/galaxy-gunicorn@{{ gunicorn }}.service"
	process_name = "galaxy-gunicorn@{{ gunicorn }}"
	cmdline_tag = true
{% endfor %}

{% for handler in range(galaxy_systemd_handlers) %}
[[inputs.procstat]]
	cgroup = "systemd/system.slice/system-galaxy\\x2dhandler.slice/galaxy-handler@{{ handler }}.service"
	process_name = "galaxy-handler@{{ handler }}"
	cmdline_tag = true
{% endfor %}

{% for handler in range(galaxy_systemd_workflow_schedulers) %}
[[inputs.procstat]]
	cgroup = "systemd/system.slice/system-galaxy\\x2dworkflow\\x2dscheduler.slice/galaxy-workflow-scheduler@{{ handler }}.service"
	process_name = "galaxy-workflow-scheduler@{{ handler }}"
	cmdline_tag = true
{% endfor %}
